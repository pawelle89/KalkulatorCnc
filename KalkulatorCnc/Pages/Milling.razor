@page "/milling"

<h1 class="card-title">Frezowanie</h1>
    <EditForm Model="@cuttingSpeed">
        <table class="table table-striped w-auto">
            <tr>
                <td>Średnica narzędzia =</td>
                <td><InputNumber class="form-control" id="name" @bind-Value="diameter" placeholder="mm"/></td>
                <td><button class="btn btn-outline-secondary btn-sm" @onclick="Diameter">Oblicz</button></td>
            </tr>
            <tr>
                <td>Prędkość Skrawania Vcc =</td>
                <td><InputNumber class="form-control" id="name" @bind-Value="cuttingSpeed" placeholder="m/s"/></td>
                <td><button class="btn btn-outline-secondary btn-sm" @onclick="CuttingSpeed">Oblicz</button></td>
            </tr>
            <tr>
                <td>Prędkość obrotowa wrzeciona S =</td>
                <td><InputNumber class="form-control" id="name" @bind-Value="spindleSpeed" placeholder="obr/min"/></td>
                <td><button class="btn btn-outline-secondary btn-sm" @onclick="SpindleSpeed">Oblicz</button></td>
            </tr>
            <tr>
                <td>Ilość zębów =</td>
                <td><InputNumber class="form-control" id="name" @bind-Value="numberOfTeeth"/></td>
                <td></td>
            </tr>
            <tr>
                <td>Posuw na ząb =</td>
                <td><InputNumber class="form-control" id="name" @bind-Value="feedPerTooth" placeholder="mm/ząb"/></td>
                <td></td>
            </tr>
            <tr>
                <td>Posuw =</td>
                <td><InputNumber class="form-control" id="name" @bind-Value="feed" placeholder="mm/min"/></td>
                <td><button class="btn btn-outline-secondary btn-sm" @onclick="Feed">Oblicz</button></td>
            </tr>
        </table>
    </EditForm>




@code {

    private double cuttingSpeed = 20;
    private double spindleSpeed = 318;
    private double diameter = 20;
    private double numberOfTeeth = 4;
    private double feed = 203.5;
    private double feedPerTooth = 0.16;

    private void SpindleSpeed()
    {
        spindleSpeed = cuttingSpeed / Math.PI / diameter * 1000;
        spindleSpeed = Math.Round(spindleSpeed, 0);
    }
    private void CuttingSpeed()
    {
        cuttingSpeed = Math.PI * diameter * spindleSpeed / 1000;
        cuttingSpeed = Math.Round(cuttingSpeed, 0);
    }
    private void Diameter()
    {
        diameter = (cuttingSpeed * 1000)/ (Math.PI * spindleSpeed);
        diameter = Math.Round(diameter,1);
    }
    private void Feed()
    {
        feed = feedPerTooth * numberOfTeeth * spindleSpeed;
        feed = Math.Round(feed, 1);
    }

}
